<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools">

    <data>

        <variable
            name="item"
            type="com.karrar.movieapp.ui.movieDetails.movieDetailsUIState.ReviewUIState" />

    </data>


    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:padding="12dp"
        android:layout_marginTop="12dp"
        android:layout_marginHorizontal="@dimen/spacing_medium"
        android:background="@drawable/review_card_background"
        >

        <com.google.android.material.imageview.ShapeableImageView
            android:id="@+id/user_image"
            android:layout_width="40dp"
            android:layout_height="40dp"
            android:scaleType="centerCrop"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            app:posterImage="@{item.userImage}"
            app:shapeAppearanceOverlay="@style/Circle"
            tools:srcCompat="@drawable/image" />

        <TextView
            android:id="@+id/name"
            style="@style/Body.md.medium"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginStart="8dp"
            android:text="@{item.name}"
            android:textColor="@color/shade_primary"
            app:layout_constraintStart_toEndOf="@+id/user_image"
            app:layout_constraintTop_toTopOf="@+id/user_image"
            tools:text="Elizabeth Jones" />

        <TextView
            android:id="@+id/user_name"
            style="@style/Body.sm.regular"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginTop="4dp"
            android:text="@{@string/user_name(item.userName)}"
            app:layout_constraintStart_toStartOf="@+id/name"
            app:layout_constraintTop_toBottomOf="@+id/name"
            tools:text="e_jones" />

        <io.github.glailton.expandabletextview.ExpandableTextView
            android:id="@+id/comment"
            style="@style/Body.md.medium"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_marginTop="12dp"
            android:text="@{item.content}"
            app:animDuration="500"
            app:collapsedLines="5"
            app:ellipsizeTextColor="@color/brand_primary"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@+id/user_name"
            app:readLessText=""
            app:readMoreText="Read more"
            tools:text="Krasinski's instincts are very good, and once you've placed the primary action there, then it allows the story instincts are very good, and once you've placed the primary action there, then it allows the story" />


        <com.karrar.movieapp.utilities.CustomRatingView
            android:id="@+id/rating_bar"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginTop="12dp"
            app:starCount="5"
            app:starFilled="@drawable/ic_fill_star"
            app:starEmpty="@drawable/ic_empty_star"
            app:starSize="16dp"
            app:starSpacing="4dp"
            app:rating="@{item.rating}"
            tools:rating="4"
            app:layout_constraintStart_toStartOf="@+id/comment"
            app:layout_constraintTop_toBottomOf="@+id/comment" />

        <TextView
            android:id="@+id/comment_date"
            style="@style/Body.sm.regular"
            android:textColor="@color/shade_secondary"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            app:formattedDate="@{item.createDate}"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintTop_toTopOf="@+id/rating_bar"
            tools:text="Apr 30, 2019" />

    </androidx.constraintlayout.widget.ConstraintLayout>

</layout>